#!/usr/bin/env node
var yo=Object.create;var kr=Object.defineProperty;var wo=Object.getOwnPropertyDescriptor;var Ro=Object.getOwnPropertyNames;var Oo=Object.getPrototypeOf,_o=Object.prototype.hasOwnProperty;var I=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var So=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ro(e))!_o.call(t,i)&&i!==r&&kr(t,i,{get:()=>e[i],enumerable:!(n=wo(e,i))||n.enumerable});return t};var mt=(t,e,r)=>(r=t!=null?yo(Oo(t)):{},So(e||!t||!t.__esModule?kr(r,"default",{value:t,enumerable:!0}):r,t));var Io=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var Fe=(t,e,r)=>(Io(t,e,"read from private field"),r?r.call(t):e.get(t)),Zt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};var vt=p(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.toCommandProperties=Ue.toCommandValue=void 0;function To(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}Ue.toCommandValue=To;function Ao(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}Ue.toCommandProperties=Ao});var Qr=p(K=>{"use strict";var No=K&&K.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$o=K&&K.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lo=K&&K.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&No(e,t,r);return $o(e,t),e};Object.defineProperty(K,"__esModule",{value:!0});K.issue=K.issueCommand=void 0;var bo=Lo(I("os")),Jr=vt();function Zr(t,e,r){let n=new Qt(t,e,r);process.stdout.write(n.toString()+bo.EOL)}K.issueCommand=Zr;function Po(t,e=""){Zr(t,{},e)}K.issue=Po;var Yr="::",Qt=class{constructor(e,r,n){e||(e="missing.command"),this.command=e,this.properties=r,this.message=n}toString(){let e=Yr+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:e+=",",e+=`${n}=${Co(i)}`)}}return e+=`${Yr}${xo(this.message)}`,e}};function xo(t){return Jr.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Co(t){return Jr.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var tn=p(ce=>{"use strict";var Do=ce&&ce.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qo=ce&&ce.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),en=ce&&ce.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Do(e,t,r);return qo(e,t),e};Object.defineProperty(ce,"__esModule",{value:!0});ce.issueCommand=void 0;var Kr=en(I("fs")),jo=en(I("os")),Fo=vt();function Uo(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!Kr.existsSync(r))throw new Error(`Missing file at path: ${r}`);Kr.appendFileSync(r,`${Fo.toCommandValue(e)}${jo.EOL}`,{encoding:"utf8"})}ce.issueCommand=Uo});var nn=p(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.checkBypass=Me.getProxyUrl=void 0;function Mo(t){let e=t.protocol==="https:";if(rn(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Me.getProxyUrl=Mo;function rn(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let n=[t.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let i of e.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(n.some(s=>s===i))return!0;return!1}Me.checkBypass=rn});var un=p(Ge=>{"use strict";var kf=I("net"),Go=I("tls"),Kt=I("http"),sn=I("https"),Bo=I("events"),Yf=I("assert"),Vo=I("util");Ge.httpOverHttp=Xo;Ge.httpsOverHttp=Ho;Ge.httpOverHttps=zo;Ge.httpsOverHttps=Wo;function Xo(t){var e=new Ee(t);return e.request=Kt.request,e}function Ho(t){var e=new Ee(t);return e.request=Kt.request,e.createSocket=on,e.defaultPort=443,e}function zo(t){var e=new Ee(t);return e.request=sn.request,e}function Wo(t){var e=new Ee(t);return e.request=sn.request,e.createSocket=on,e.defaultPort=443,e}function Ee(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||Kt.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(n,i,s,o){for(var a=an(i,s,o),u=0,c=e.requests.length;u<c;++u){var l=e.requests[u];if(l.host===a.host&&l.port===a.port){e.requests.splice(u,1),l.request.onSocket(n);return}}n.destroy(),e.removeSocket(n)})}Vo.inherits(Ee,Bo.EventEmitter);Ee.prototype.addRequest=function(e,r,n,i){var s=this,o=er({request:e},s.options,an(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",u),a.on("close",c),a.on("agentRemove",c),e.onSocket(a);function u(){s.emit("free",a,o)}function c(l){s.removeSocket(a),a.removeListener("free",u),a.removeListener("close",c),a.removeListener("agentRemove",c)}})};Ee.prototype.createSocket=function(e,r){var n=this,i={};n.sockets.push(i);var s=er({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),we("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",u),o.once("connect",c),o.once("error",l),o.end();function a(f){f.upgrade=!0}function u(f,m,E){process.nextTick(function(){c(f,m,E)})}function c(f,m,E){if(o.removeAllListeners(),m.removeAllListeners(),f.statusCode!==200){we("tunneling socket could not be established, statusCode=%d",f.statusCode),m.destroy();var pe=new Error("tunneling socket could not be established, statusCode="+f.statusCode);pe.code="ECONNRESET",e.request.emit("error",pe),n.removeSocket(i);return}if(E.length>0){we("got illegal response body from proxy"),m.destroy();var pe=new Error("got illegal response body from proxy");pe.code="ECONNRESET",e.request.emit("error",pe),n.removeSocket(i);return}return we("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=m,r(m)}function l(f){o.removeAllListeners(),we(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var m=new Error("tunneling socket could not be established, cause="+f.message);m.code="ECONNRESET",e.request.emit("error",m),n.removeSocket(i)}};Ee.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function on(t,e){var r=this;Ee.prototype.createSocket.call(r,t,function(n){var i=t.request.getHeader("host"),s=er({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):t.host}),o=Go.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,e(o)})}function an(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function er(t){for(var e=1,r=arguments.length;e<r;++e){var n=arguments[e];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var a=i[s];n[a]!==void 0&&(t[a]=n[a])}}return t}var we;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?we=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:we=function(){};Ge.debug=we});var cn=p((Zf,ln)=>{ln.exports=un()});var nr=p(P=>{"use strict";var ko=P&&P.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yo=P&&P.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ot=P&&P.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ko(e,t,r);return Yo(e,t),e},j=P&&P.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(P,"__esModule",{value:!0});P.HttpClient=P.isHttps=P.HttpClientResponse=P.HttpClientError=P.getProxyUrl=P.MediaTypes=P.Headers=P.HttpCodes=void 0;var gt=Ot(I("http")),tr=Ot(I("https")),fn=Ot(nn()),yt=Ot(cn()),ae;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(ae=P.HttpCodes||(P.HttpCodes={}));var G;(function(t){t.Accept="accept",t.ContentType="content-type"})(G=P.Headers||(P.Headers={}));var Re;(function(t){t.ApplicationJson="application/json"})(Re=P.MediaTypes||(P.MediaTypes={}));function Jo(t){let e=fn.getProxyUrl(new URL(t));return e?e.href:""}P.getProxyUrl=Jo;var Zo=[ae.MovedPermanently,ae.ResourceMoved,ae.SeeOther,ae.TemporaryRedirect,ae.PermanentRedirect],Qo=[ae.BadGateway,ae.ServiceUnavailable,ae.GatewayTimeout],Ko=["OPTIONS","GET","DELETE","HEAD"],ea=10,ta=5,Be=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Be.prototype)}};P.HttpClientError=Be;var Rt=class{constructor(e){this.message=e}readBody(){return j(this,void 0,void 0,function*(){return new Promise(e=>j(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{e(r.toString())})}))})}};P.HttpClientResponse=Rt;function ra(t){return new URL(t).protocol==="https:"}P.isHttps=ra;var rr=class{constructor(e,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(e,r){return j(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return j(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return j(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,n){return j(this,void 0,void 0,function*(){return this.request("POST",e,r,n||{})})}patch(e,r,n){return j(this,void 0,void 0,function*(){return this.request("PATCH",e,r,n||{})})}put(e,r,n){return j(this,void 0,void 0,function*(){return this.request("PUT",e,r,n||{})})}head(e,r){return j(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,n,i){return j(this,void 0,void 0,function*(){return this.request(e,r,n,i)})}getJson(e,r={}){return j(this,void 0,void 0,function*(){r[G.Accept]=this._getExistingOrDefaultHeader(r,G.Accept,Re.ApplicationJson);let n=yield this.get(e,r);return this._processResponse(n,this.requestOptions)})}postJson(e,r,n={}){return j(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[G.Accept]=this._getExistingOrDefaultHeader(n,G.Accept,Re.ApplicationJson),n[G.ContentType]=this._getExistingOrDefaultHeader(n,G.ContentType,Re.ApplicationJson);let s=yield this.post(e,i,n);return this._processResponse(s,this.requestOptions)})}putJson(e,r,n={}){return j(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[G.Accept]=this._getExistingOrDefaultHeader(n,G.Accept,Re.ApplicationJson),n[G.ContentType]=this._getExistingOrDefaultHeader(n,G.ContentType,Re.ApplicationJson);let s=yield this.put(e,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(e,r,n={}){return j(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[G.Accept]=this._getExistingOrDefaultHeader(n,G.Accept,Re.ApplicationJson),n[G.ContentType]=this._getExistingOrDefaultHeader(n,G.ContentType,Re.ApplicationJson);let s=yield this.patch(e,i,n);return this._processResponse(s,this.requestOptions)})}request(e,r,n,i){return j(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(e,s,i),a=this._allowRetries&&Ko.includes(e)?this._maxRetries+1:1,u=0,c;do{if(c=yield this.requestRaw(o,n),c&&c.message&&c.message.statusCode===ae.Unauthorized){let f;for(let m of this.handlers)if(m.canHandleAuthentication(c)){f=m;break}return f?f.handleAuthentication(this,o,n):c}let l=this._maxRedirects;for(;c.message.statusCode&&Zo.includes(c.message.statusCode)&&this._allowRedirects&&l>0;){let f=c.message.headers.location;if(!f)break;let m=new URL(f);if(s.protocol==="https:"&&s.protocol!==m.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield c.readBody(),m.hostname!==s.hostname)for(let E in i)E.toLowerCase()==="authorization"&&delete i[E];o=this._prepareRequest(e,m,i),c=yield this.requestRaw(o,n),l--}if(!c.message.statusCode||!Qo.includes(c.message.statusCode))return c;u+=1,u<a&&(yield c.readBody(),yield this._performExponentialBackoff(u))}while(u<a);return c})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return j(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(o,a){o?i(o):a?n(a):i(new Error("Unknown error"))}this.requestRawWithCallback(e,r,s)})})}requestRawWithCallback(e,r,n){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(u,c){i||(i=!0,n(u,c))}let o=e.httpModule.request(e.options,u=>{let c=new Rt(u);s(void 0,c)}),a;o.on("socket",u=>{a=u}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${e.options.path}`))}),o.on("error",function(u){s(u)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?tr:gt;let o=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=e,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(i.options);return i}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},wt(this.requestOptions.headers),wt(e||{})):wt(e||{})}_getExistingOrDefaultHeader(e,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=wt(this.requestOptions.headers)[r]),e[r]||i||n}_getAgent(e){let r,n=fn.getProxyUrl(e),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||gt.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},u,c=n.protocol==="https:";s?u=c?yt.httpsOverHttps:yt.httpsOverHttp:u=c?yt.httpOverHttps:yt.httpOverHttp,r=u(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=s?new tr.Agent(a):new gt.Agent(a),this._agent=r}return r||(r=s?tr.globalAgent:gt.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return j(this,void 0,void 0,function*(){e=Math.min(ea,e);let r=ta*Math.pow(2,e);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(e,r){return j(this,void 0,void 0,function*(){return new Promise((n,i)=>j(this,void 0,void 0,function*(){let s=e.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===ae.NotFound&&n(o);function a(l,f){if(typeof f=="string"){let m=new Date(f);if(!isNaN(m.valueOf()))return m}return f}let u,c;try{c=yield e.readBody(),c&&c.length>0&&(r&&r.deserializeDates?u=JSON.parse(c,a):u=JSON.parse(c),o.result=u),o.headers=e.message.headers}catch{}if(s>299){let l;u&&u.message?l=u.message:c&&c.length>0?l=c:l=`Failed request: (${s})`;let f=new Be(l,s);f.result=o.result,i(f)}else n(o)}))})}};P.HttpClient=rr;var wt=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var hn=p(fe=>{"use strict";var ar=fe&&fe.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(fe,"__esModule",{value:!0});fe.PersonalAccessTokenCredentialHandler=fe.BearerCredentialHandler=fe.BasicCredentialHandler=void 0;var ir=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return ar(this,void 0,void 0,function*(){throw new Error("not implemented")})}};fe.BasicCredentialHandler=ir;var sr=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return ar(this,void 0,void 0,function*(){throw new Error("not implemented")})}};fe.BearerCredentialHandler=sr;var or=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return ar(this,void 0,void 0,function*(){throw new Error("not implemented")})}};fe.PersonalAccessTokenCredentialHandler=or});var En=p(Ve=>{"use strict";var dn=Ve&&Ve.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.OidcClient=void 0;var na=nr(),ia=hn(),pn=Ne(),Oe=class{static createHttpClient(e=!0,r=10){let n={allowRetries:e,maxRetries:r};return new na.HttpClient("actions/oidc-client",[new ia.BearerCredentialHandler(Oe.getRequestToken())],n)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return dn(this,void 0,void 0,function*(){let s=(r=(yield Oe.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(e){return dn(this,void 0,void 0,function*(){try{let r=Oe.getIDTokenUrl();if(e){let i=encodeURIComponent(e);r=`${r}&audience=${i}`}pn.debug(`ID token url is ${r}`);let n=yield Oe.getCall(r);return pn.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Ve.OidcClient=Oe});var fr=p(z=>{"use strict";var ur=z&&z.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(z,"__esModule",{value:!0});z.summary=z.markdownSummary=z.SUMMARY_DOCS_URL=z.SUMMARY_ENV_VAR=void 0;var sa=I("os"),lr=I("fs"),{access:oa,appendFile:aa,writeFile:ua}=lr.promises;z.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";z.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var cr=class{constructor(){this._buffer=""}filePath(){return ur(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[z.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${z.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield oa(e,lr.constants.R_OK|lr.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,n={}){let i=Object.entries(n).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${e}${i}>${r}</${e}>`:`<${e}${i}>`}write(e){return ur(this,void 0,void 0,function*(){let r=!!e?.overwrite,n=yield this.filePath();return yield(r?ua:aa)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return ur(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(sa.EOL)}addCodeBlock(e,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(i).addEOL()}addList(e,r=!1){let n=r?"ol":"ul",i=e.map(o=>this.wrap("li",o)).join(""),s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(e){let r=e.map(i=>{let s=i.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:u,colspan:c,rowspan:l}=o,f=a?"th":"td",m=Object.assign(Object.assign({},c&&{colspan:c}),l&&{rowspan:l});return this.wrap(f,u,m)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(e,r){let n=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(n).addEOL()}addImage(e,r,n){let{width:i,height:s}=n||{},o=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:e,alt:r},o));return this.addRaw(a).addEOL()}addHeading(e,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(i,e);return this.addRaw(s).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",e,n);return this.addRaw(i).addEOL()}addLink(e,r){let n=this.wrap("a",e,{href:r});return this.addRaw(n).addEOL()}},mn=new cr;z.markdownSummary=mn;z.summary=mn});var vn=p(W=>{"use strict";var la=W&&W.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ca=W&&W.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fa=W&&W.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&la(e,t,r);return ca(e,t),e};Object.defineProperty(W,"__esModule",{value:!0});W.toPlatformPath=W.toWin32Path=W.toPosixPath=void 0;var ha=fa(I("path"));function da(t){return t.replace(/[\\]/g,"/")}W.toPosixPath=da;function pa(t){return t.replace(/[/]/g,"\\")}W.toWin32Path=pa;function Ea(t){return t.replace(/[/\\]/g,ha.sep)}W.toPlatformPath=Ea});var Ne=p(y=>{"use strict";var ma=y&&y.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),va=y&&y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gn=y&&y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ma(e,t,r);return va(e,t),e},yn=y&&y.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(y,"__esModule",{value:!0});y.getIDToken=y.getState=y.saveState=y.group=y.endGroup=y.startGroup=y.info=y.notice=y.warning=y.error=y.debug=y.isDebug=y.setFailed=y.setCommandEcho=y.setOutput=y.getBooleanInput=y.getMultilineInput=y.getInput=y.addPath=y.setSecret=y.exportVariable=y.ExitCode=void 0;var ee=Qr(),wn=tn(),St=vt(),_t=gn(I("os")),ga=gn(I("path")),ya=En(),Rn;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(Rn=y.ExitCode||(y.ExitCode={}));function wa(t,e){let r=St.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||""){let i="_GitHubActionsFileCommandDelimeter_",s=`${t}<<${i}${_t.EOL}${r}${_t.EOL}${i}`;wn.issueCommand("ENV",s)}else ee.issueCommand("set-env",{name:t},r)}y.exportVariable=wa;function Ra(t){ee.issueCommand("add-mask",{},t)}y.setSecret=Ra;function Oa(t){process.env.GITHUB_PATH||""?wn.issueCommand("PATH",t):ee.issueCommand("add-path",{},t),process.env.PATH=`${t}${ga.delimiter}${process.env.PATH}`}y.addPath=Oa;function hr(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}y.getInput=hr;function _a(t,e){return hr(t,e).split(`
`).filter(n=>n!=="")}y.getMultilineInput=_a;function Sa(t,e){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=hr(t,e);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}y.getBooleanInput=Sa;function Ia(t,e){process.stdout.write(_t.EOL),ee.issueCommand("set-output",{name:t},e)}y.setOutput=Ia;function Ta(t){ee.issue("echo",t?"on":"off")}y.setCommandEcho=Ta;function Aa(t){process.exitCode=Rn.Failure,On(t)}y.setFailed=Aa;function Na(){return process.env.RUNNER_DEBUG==="1"}y.isDebug=Na;function $a(t){ee.issueCommand("debug",{},t)}y.debug=$a;function On(t,e={}){ee.issueCommand("error",St.toCommandProperties(e),t instanceof Error?t.toString():t)}y.error=On;function La(t,e={}){ee.issueCommand("warning",St.toCommandProperties(e),t instanceof Error?t.toString():t)}y.warning=La;function ba(t,e={}){ee.issueCommand("notice",St.toCommandProperties(e),t instanceof Error?t.toString():t)}y.notice=ba;function Pa(t){process.stdout.write(t+_t.EOL)}y.info=Pa;function _n(t){ee.issue("group",t)}y.startGroup=_n;function Sn(){ee.issue("endgroup")}y.endGroup=Sn;function xa(t,e){return yn(this,void 0,void 0,function*(){_n(t);let r;try{r=yield e()}finally{Sn()}return r})}y.group=xa;function Ca(t,e){ee.issueCommand("save-state",{name:t},e)}y.saveState=Ca;function Da(t){return process.env[`STATE_${t}`]||""}y.getState=Da;function qa(t){return yn(this,void 0,void 0,function*(){return yield ya.OidcClient.getIDToken(t)})}y.getIDToken=qa;var ja=fr();Object.defineProperty(y,"summary",{enumerable:!0,get:function(){return ja.summary}});var Fa=fr();Object.defineProperty(y,"markdownSummary",{enumerable:!0,get:function(){return Fa.markdownSummary}});var dr=vn();Object.defineProperty(y,"toPosixPath",{enumerable:!0,get:function(){return dr.toPosixPath}});Object.defineProperty(y,"toWin32Path",{enumerable:!0,get:function(){return dr.toWin32Path}});Object.defineProperty(y,"toPlatformPath",{enumerable:!0,get:function(){return dr.toPlatformPath}})});var et=p((sh,In)=>{var Ua="2.0.0",Ma=Number.MAX_SAFE_INTEGER||9007199254740991,Ga=16;In.exports={SEMVER_SPEC_VERSION:Ua,MAX_LENGTH:256,MAX_SAFE_INTEGER:Ma,MAX_SAFE_COMPONENT_LENGTH:Ga}});var tt=p((oh,Tn)=>{var Ba=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Tn.exports=Ba});var $e=p((_e,An)=>{var{MAX_SAFE_COMPONENT_LENGTH:pr}=et(),Va=tt();_e=An.exports={};var Xa=_e.re=[],v=_e.src=[],g=_e.t={},Ha=0,O=(t,e,r)=>{let n=Ha++;Va(t,n,e),g[t]=n,v[n]=e,Xa[n]=new RegExp(e,r?"g":void 0)};O("NUMERICIDENTIFIER","0|[1-9]\\d*");O("NUMERICIDENTIFIERLOOSE","[0-9]+");O("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");O("MAINVERSION",`(${v[g.NUMERICIDENTIFIER]})\\.(${v[g.NUMERICIDENTIFIER]})\\.(${v[g.NUMERICIDENTIFIER]})`);O("MAINVERSIONLOOSE",`(${v[g.NUMERICIDENTIFIERLOOSE]})\\.(${v[g.NUMERICIDENTIFIERLOOSE]})\\.(${v[g.NUMERICIDENTIFIERLOOSE]})`);O("PRERELEASEIDENTIFIER",`(?:${v[g.NUMERICIDENTIFIER]}|${v[g.NONNUMERICIDENTIFIER]})`);O("PRERELEASEIDENTIFIERLOOSE",`(?:${v[g.NUMERICIDENTIFIERLOOSE]}|${v[g.NONNUMERICIDENTIFIER]})`);O("PRERELEASE",`(?:-(${v[g.PRERELEASEIDENTIFIER]}(?:\\.${v[g.PRERELEASEIDENTIFIER]})*))`);O("PRERELEASELOOSE",`(?:-?(${v[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${v[g.PRERELEASEIDENTIFIERLOOSE]})*))`);O("BUILDIDENTIFIER","[0-9A-Za-z-]+");O("BUILD",`(?:\\+(${v[g.BUILDIDENTIFIER]}(?:\\.${v[g.BUILDIDENTIFIER]})*))`);O("FULLPLAIN",`v?${v[g.MAINVERSION]}${v[g.PRERELEASE]}?${v[g.BUILD]}?`);O("FULL",`^${v[g.FULLPLAIN]}$`);O("LOOSEPLAIN",`[v=\\s]*${v[g.MAINVERSIONLOOSE]}${v[g.PRERELEASELOOSE]}?${v[g.BUILD]}?`);O("LOOSE",`^${v[g.LOOSEPLAIN]}$`);O("GTLT","((?:<|>)?=?)");O("XRANGEIDENTIFIERLOOSE",`${v[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);O("XRANGEIDENTIFIER",`${v[g.NUMERICIDENTIFIER]}|x|X|\\*`);O("XRANGEPLAIN",`[v=\\s]*(${v[g.XRANGEIDENTIFIER]})(?:\\.(${v[g.XRANGEIDENTIFIER]})(?:\\.(${v[g.XRANGEIDENTIFIER]})(?:${v[g.PRERELEASE]})?${v[g.BUILD]}?)?)?`);O("XRANGEPLAINLOOSE",`[v=\\s]*(${v[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${v[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${v[g.XRANGEIDENTIFIERLOOSE]})(?:${v[g.PRERELEASELOOSE]})?${v[g.BUILD]}?)?)?`);O("XRANGE",`^${v[g.GTLT]}\\s*${v[g.XRANGEPLAIN]}$`);O("XRANGELOOSE",`^${v[g.GTLT]}\\s*${v[g.XRANGEPLAINLOOSE]}$`);O("COERCE",`(^|[^\\d])(\\d{1,${pr}})(?:\\.(\\d{1,${pr}}))?(?:\\.(\\d{1,${pr}}))?(?:$|[^\\d])`);O("COERCERTL",v[g.COERCE],!0);O("LONETILDE","(?:~>?)");O("TILDETRIM",`(\\s*)${v[g.LONETILDE]}\\s+`,!0);_e.tildeTrimReplace="$1~";O("TILDE",`^${v[g.LONETILDE]}${v[g.XRANGEPLAIN]}$`);O("TILDELOOSE",`^${v[g.LONETILDE]}${v[g.XRANGEPLAINLOOSE]}$`);O("LONECARET","(?:\\^)");O("CARETTRIM",`(\\s*)${v[g.LONECARET]}\\s+`,!0);_e.caretTrimReplace="$1^";O("CARET",`^${v[g.LONECARET]}${v[g.XRANGEPLAIN]}$`);O("CARETLOOSE",`^${v[g.LONECARET]}${v[g.XRANGEPLAINLOOSE]}$`);O("COMPARATORLOOSE",`^${v[g.GTLT]}\\s*(${v[g.LOOSEPLAIN]})$|^$`);O("COMPARATOR",`^${v[g.GTLT]}\\s*(${v[g.FULLPLAIN]})$|^$`);O("COMPARATORTRIM",`(\\s*)${v[g.GTLT]}\\s*(${v[g.LOOSEPLAIN]}|${v[g.XRANGEPLAIN]})`,!0);_e.comparatorTrimReplace="$1$2$3";O("HYPHENRANGE",`^\\s*(${v[g.XRANGEPLAIN]})\\s+-\\s+(${v[g.XRANGEPLAIN]})\\s*$`);O("HYPHENRANGELOOSE",`^\\s*(${v[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${v[g.XRANGEPLAINLOOSE]})\\s*$`);O("STAR","(<|>)?=?\\s*\\*");O("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");O("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var rt=p((ah,Nn)=>{var za=["includePrerelease","loose","rtl"],Wa=t=>t?typeof t!="object"?{loose:!0}:za.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Nn.exports=Wa});var It=p((uh,bn)=>{var $n=/^[0-9]+$/,Ln=(t,e)=>{let r=$n.test(t),n=$n.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},ka=(t,e)=>Ln(e,t);bn.exports={compareIdentifiers:Ln,rcompareIdentifiers:ka}});var U=p((lh,Dn)=>{var Tt=tt(),{MAX_LENGTH:Pn,MAX_SAFE_INTEGER:At}=et(),{re:xn,t:Cn}=$e(),Ya=rt(),{compareIdentifiers:Xe}=It(),Z=class{constructor(e,r){if(r=Ya(r),e instanceof Z){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Pn)throw new TypeError(`version is longer than ${Pn} characters`);Tt("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?xn[Cn.LOOSE]:xn[Cn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>At||this.major<0)throw new TypeError("Invalid major version");if(this.minor>At||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>At||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<At)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Tt("SemVer.compare",this.version,this.options,e),!(e instanceof Z)){if(typeof e=="string"&&e===this.version)return 0;e=new Z(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Z||(e=new Z(e,this.options)),Xe(this.major,e.major)||Xe(this.minor,e.minor)||Xe(this.patch,e.patch)}comparePre(e){if(e instanceof Z||(e=new Z(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Tt("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Xe(n,i)}while(++r)}compareBuild(e){e instanceof Z||(e=new Z(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Tt("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Xe(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(Xe(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Dn.exports=Z});var Le=p((ch,Un)=>{var{MAX_LENGTH:Ja}=et(),{re:qn,t:jn}=$e(),Fn=U(),Za=rt(),Qa=(t,e)=>{if(e=Za(e),t instanceof Fn)return t;if(typeof t!="string"||t.length>Ja||!(e.loose?qn[jn.LOOSE]:qn[jn.FULL]).test(t))return null;try{return new Fn(t,e)}catch{return null}};Un.exports=Qa});var Gn=p((fh,Mn)=>{var Ka=Le(),eu=(t,e)=>{let r=Ka(t,e);return r?r.version:null};Mn.exports=eu});var Vn=p((hh,Bn)=>{var tu=Le(),ru=(t,e)=>{let r=tu(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Bn.exports=ru});var zn=p((dh,Hn)=>{var Xn=U(),nu=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Xn(t instanceof Xn?t.version:t,r).inc(e,n).version}catch{return null}};Hn.exports=nu});var te=p((ph,kn)=>{var Wn=U(),iu=(t,e,r)=>new Wn(t,r).compare(new Wn(e,r));kn.exports=iu});var Nt=p((Eh,Yn)=>{var su=te(),ou=(t,e,r)=>su(t,e,r)===0;Yn.exports=ou});var Qn=p((mh,Zn)=>{var Jn=Le(),au=Nt(),uu=(t,e)=>{if(au(t,e))return null;{let r=Jn(t),n=Jn(e),i=r.prerelease.length||n.prerelease.length,s=i?"pre":"",o=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return s+a;return o}};Zn.exports=uu});var ei=p((vh,Kn)=>{var lu=U(),cu=(t,e)=>new lu(t,e).major;Kn.exports=cu});var ri=p((gh,ti)=>{var fu=U(),hu=(t,e)=>new fu(t,e).minor;ti.exports=hu});var ii=p((yh,ni)=>{var du=U(),pu=(t,e)=>new du(t,e).patch;ni.exports=pu});var oi=p((wh,si)=>{var Eu=Le(),mu=(t,e)=>{let r=Eu(t,e);return r&&r.prerelease.length?r.prerelease:null};si.exports=mu});var ui=p((Rh,ai)=>{var vu=te(),gu=(t,e,r)=>vu(e,t,r);ai.exports=gu});var ci=p((Oh,li)=>{var yu=te(),wu=(t,e)=>yu(t,e,!0);li.exports=wu});var $t=p((_h,hi)=>{var fi=U(),Ru=(t,e,r)=>{let n=new fi(t,r),i=new fi(e,r);return n.compare(i)||n.compareBuild(i)};hi.exports=Ru});var pi=p((Sh,di)=>{var Ou=$t(),_u=(t,e)=>t.sort((r,n)=>Ou(r,n,e));di.exports=_u});var mi=p((Ih,Ei)=>{var Su=$t(),Iu=(t,e)=>t.sort((r,n)=>Su(n,r,e));Ei.exports=Iu});var nt=p((Th,vi)=>{var Tu=te(),Au=(t,e,r)=>Tu(t,e,r)>0;vi.exports=Au});var Lt=p((Ah,gi)=>{var Nu=te(),$u=(t,e,r)=>Nu(t,e,r)<0;gi.exports=$u});var Er=p((Nh,yi)=>{var Lu=te(),bu=(t,e,r)=>Lu(t,e,r)!==0;yi.exports=bu});var bt=p(($h,wi)=>{var Pu=te(),xu=(t,e,r)=>Pu(t,e,r)>=0;wi.exports=xu});var Pt=p((Lh,Ri)=>{var Cu=te(),Du=(t,e,r)=>Cu(t,e,r)<=0;Ri.exports=Du});var mr=p((bh,Oi)=>{var qu=Nt(),ju=Er(),Fu=nt(),Uu=bt(),Mu=Lt(),Gu=Pt(),Bu=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return qu(t,r,n);case"!=":return ju(t,r,n);case">":return Fu(t,r,n);case">=":return Uu(t,r,n);case"<":return Mu(t,r,n);case"<=":return Gu(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Oi.exports=Bu});var Si=p((Ph,_i)=>{var Vu=U(),Xu=Le(),{re:xt,t:Ct}=$e(),Hu=(t,e)=>{if(t instanceof Vu)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(xt[Ct.COERCE]);else{let n;for(;(n=xt[Ct.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),xt[Ct.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;xt[Ct.COERCERTL].lastIndex=-1}return r===null?null:Xu(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};_i.exports=Hu});var Ti=p((xh,Ii)=>{"use strict";Ii.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Ni=p((Ch,Ai)=>{"use strict";Ai.exports=N;N.Node=be;N.create=N;function N(t){var e=this;if(e instanceof N||(e=new N),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}N.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};N.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};N.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};N.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Wu(this,arguments[t]);return this.length};N.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)ku(this,arguments[t]);return this.length};N.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};N.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};N.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};N.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};N.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};N.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};N.prototype.map=function(t,e){e=e||this;for(var r=new N,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};N.prototype.mapReverse=function(t,e){e=e||this;for(var r=new N,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};N.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};N.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};N.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};N.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};N.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new N;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};N.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new N;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};N.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=zu(this,i,r[n]);return s};N.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function zu(t,e,r){var n=e===t.head?new be(r,null,e,t):new be(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Wu(t,e){t.tail=new be(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function ku(t,e){t.head=new be(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function be(t,e,r,n){if(!(this instanceof be))return new be(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Ti()(N)}catch{}});var xi=p((Dh,Pi)=>{"use strict";var Yu=Ni(),Pe=Symbol("max"),ve=Symbol("length"),He=Symbol("lengthCalculator"),st=Symbol("allowStale"),xe=Symbol("maxAge"),me=Symbol("dispose"),$i=Symbol("noDisposeOnSet"),F=Symbol("lruList"),ue=Symbol("cache"),bi=Symbol("updateAgeOnGet"),vr=()=>1,yr=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Pe]=e.max||1/0,n=e.length||vr;if(this[He]=typeof n!="function"?vr:n,this[st]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[xe]=e.maxAge||0,this[me]=e.dispose,this[$i]=e.noDisposeOnSet||!1,this[bi]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Pe]=e||1/0,it(this)}get max(){return this[Pe]}set allowStale(e){this[st]=!!e}get allowStale(){return this[st]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[xe]=e,it(this)}get maxAge(){return this[xe]}set lengthCalculator(e){typeof e!="function"&&(e=vr),e!==this[He]&&(this[He]=e,this[ve]=0,this[F].forEach(r=>{r.length=this[He](r.value,r.key),this[ve]+=r.length})),it(this)}get lengthCalculator(){return this[He]}get length(){return this[ve]}get itemCount(){return this[F].length}rforEach(e,r){r=r||this;for(let n=this[F].tail;n!==null;){let i=n.prev;Li(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[F].head;n!==null;){let i=n.next;Li(this,e,n,r),n=i}}keys(){return this[F].toArray().map(e=>e.key)}values(){return this[F].toArray().map(e=>e.value)}reset(){this[me]&&this[F]&&this[F].length&&this[F].forEach(e=>this[me](e.key,e.value)),this[ue]=new Map,this[F]=new Yu,this[ve]=0}dump(){return this[F].map(e=>Dt(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[F]}set(e,r,n){if(n=n||this[xe],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[He](r,e);if(this[ue].has(e)){if(s>this[Pe])return ze(this,this[ue].get(e)),!1;let u=this[ue].get(e).value;return this[me]&&(this[$i]||this[me](e,u.value)),u.now=i,u.maxAge=n,u.value=r,this[ve]+=s-u.length,u.length=s,this.get(e),it(this),!0}let o=new wr(e,r,s,i,n);return o.length>this[Pe]?(this[me]&&this[me](e,r),!1):(this[ve]+=o.length,this[F].unshift(o),this[ue].set(e,this[F].head),it(this),!0)}has(e){if(!this[ue].has(e))return!1;let r=this[ue].get(e).value;return!Dt(this,r)}get(e){return gr(this,e,!0)}peek(e){return gr(this,e,!1)}pop(){let e=this[F].tail;return e?(ze(this,e),e.value):null}del(e){ze(this,this[ue].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[ue].forEach((e,r)=>gr(this,r,!1))}},gr=(t,e,r)=>{let n=t[ue].get(e);if(n){let i=n.value;if(Dt(t,i)){if(ze(t,n),!t[st])return}else r&&(t[bi]&&(n.value.now=Date.now()),t[F].unshiftNode(n));return i.value}},Dt=(t,e)=>{if(!e||!e.maxAge&&!t[xe])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[xe]&&r>t[xe]},it=t=>{if(t[ve]>t[Pe])for(let e=t[F].tail;t[ve]>t[Pe]&&e!==null;){let r=e.prev;ze(t,e),e=r}},ze=(t,e)=>{if(e){let r=e.value;t[me]&&t[me](r.key,r.value),t[ve]-=r.length,t[ue].delete(r.key),t[F].removeNode(e)}},wr=class{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},Li=(t,e,r,n)=>{let i=r.value;Dt(t,i)&&(ze(t,r),t[st]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};Pi.exports=yr});var re=p((qh,ji)=>{var Ce=class{constructor(e,r){if(r=Zu(r),e instanceof Ce)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Ce(e.raw,r);if(e instanceof Rr)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Di(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&rl(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=Ci.get(n);if(i)return i;let s=this.options.loose,o=s?k[B.HYPHENRANGELOOSE]:k[B.HYPHENRANGE];e=e.replace(o,hl(this.options.includePrerelease)),x("hyphen replace",e),e=e.replace(k[B.COMPARATORTRIM],Ku),x("comparator trim",e),e=e.replace(k[B.TILDETRIM],el),e=e.replace(k[B.CARETTRIM],tl),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(f=>nl(f,this.options)).join(" ").split(/\s+/).map(f=>fl(f,this.options));s&&(a=a.filter(f=>(x("loose invalid filter",f,this.options),!!f.match(k[B.COMPARATORLOOSE])))),x("range list",a);let u=new Map,c=a.map(f=>new Rr(f,this.options));for(let f of c){if(Di(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let l=[...u.values()];return Ci.set(n,l),l}intersects(e,r){if(!(e instanceof Ce))throw new TypeError("a Range is required");return this.set.some(n=>qi(n,r)&&e.set.some(i=>qi(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Qu(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(dl(this.set[r],e,this.options))return!0;return!1}};ji.exports=Ce;var Ju=xi(),Ci=new Ju({max:1e3}),Zu=rt(),Rr=ot(),x=tt(),Qu=U(),{re:k,t:B,comparatorTrimReplace:Ku,tildeTrimReplace:el,caretTrimReplace:tl}=$e(),Di=t=>t.value==="<0.0.0-0",rl=t=>t.value==="",qi=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},nl=(t,e)=>(x("comp",t,e),t=ol(t,e),x("caret",t),t=il(t,e),x("tildes",t),t=ul(t,e),x("xrange",t),t=cl(t,e),x("stars",t),t),V=t=>!t||t.toLowerCase()==="x"||t==="*",il=(t,e)=>t.trim().split(/\s+/).map(r=>sl(r,e)).join(" "),sl=(t,e)=>{let r=e.loose?k[B.TILDELOOSE]:k[B.TILDE];return t.replace(r,(n,i,s,o,a)=>{x("tilde",t,n,i,s,o,a);let u;return V(i)?u="":V(s)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:V(o)?u=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(x("replaceTilde pr",a),u=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):u=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,x("tilde return",u),u})},ol=(t,e)=>t.trim().split(/\s+/).map(r=>al(r,e)).join(" "),al=(t,e)=>{x("caret",t,e);let r=e.loose?k[B.CARETLOOSE]:k[B.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,u)=>{x("caret",t,i,s,o,a,u);let c;return V(s)?c="":V(o)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:V(a)?s==="0"?c=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:u?(x("replaceCaret pr",u),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${u} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${u} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${u} <${+s+1}.0.0-0`):(x("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),x("caret return",c),c})},ul=(t,e)=>(x("replaceXRanges",t,e),t.split(/\s+/).map(r=>ll(r,e)).join(" ")),ll=(t,e)=>{t=t.trim();let r=e.loose?k[B.XRANGELOOSE]:k[B.XRANGE];return t.replace(r,(n,i,s,o,a,u)=>{x("xRange",t,n,i,s,o,a,u);let c=V(s),l=c||V(o),f=l||V(a),m=f;return i==="="&&m&&(i=""),u=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&m?(l&&(o=0),a=0,i===">"?(i=">=",l?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",l?s=+s+1:o=+o+1),i==="<"&&(u="-0"),n=`${i+s}.${o}.${a}${u}`):l?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:f&&(n=`>=${s}.${o}.0${u} <${s}.${+o+1}.0-0`),x("xRange return",n),n})},cl=(t,e)=>(x("replaceStars",t,e),t.trim().replace(k[B.STAR],"")),fl=(t,e)=>(x("replaceGTE0",t,e),t.trim().replace(k[e.includePrerelease?B.GTE0PRE:B.GTE0],"")),hl=t=>(e,r,n,i,s,o,a,u,c,l,f,m,E)=>(V(n)?r="":V(i)?r=`>=${n}.0.0${t?"-0":""}`:V(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,V(c)?u="":V(l)?u=`<${+c+1}.0.0-0`:V(f)?u=`<${c}.${+l+1}.0-0`:m?u=`<=${c}.${l}.${f}-${m}`:t?u=`<${c}.${l}.${+f+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),dl=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(x(t[n].semver),t[n].semver!==Rr.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var ot=p((jh,Bi)=>{var at=Symbol("SemVer ANY"),We=class{static get ANY(){return at}constructor(e,r){if(r=pl(r),e instanceof We){if(e.loose===!!r.loose)return e;e=e.value}_r("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===at?this.value="":this.value=this.operator+this.semver.version,_r("comp",this)}parse(e){let r=this.options.loose?Fi[Ui.COMPARATORLOOSE]:Fi[Ui.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Mi(n[2],this.options.loose):this.semver=at}toString(){return this.value}test(e){if(_r("Comparator.test",e,this.options.loose),this.semver===at||e===at)return!0;if(typeof e=="string")try{e=new Mi(e,this.options)}catch{return!1}return Or(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof We))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Gi(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new Gi(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=Or(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=Or(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||u}};Bi.exports=We;var pl=rt(),{re:Fi,t:Ui}=$e(),Or=mr(),_r=tt(),Mi=U(),Gi=re()});var ut=p((Fh,Vi)=>{var El=re(),ml=(t,e,r)=>{try{e=new El(e,r)}catch{return!1}return e.test(t)};Vi.exports=ml});var Hi=p((Uh,Xi)=>{var vl=re(),gl=(t,e)=>new vl(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Xi.exports=gl});var Wi=p((Mh,zi)=>{var yl=U(),wl=re(),Rl=(t,e,r)=>{let n=null,i=null,s=null;try{s=new wl(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new yl(n,r))}),n};zi.exports=Rl});var Yi=p((Gh,ki)=>{var Ol=U(),_l=re(),Sl=(t,e,r)=>{let n=null,i=null,s=null;try{s=new _l(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Ol(n,r))}),n};ki.exports=Sl});var Qi=p((Bh,Zi)=>{var Sr=U(),Il=re(),Ji=nt(),Tl=(t,e)=>{t=new Il(t,e);let r=new Sr("0.0.0");if(t.test(r)||(r=new Sr("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new Sr(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Ji(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Ji(r,s))&&(r=s)}return r&&t.test(r)?r:null};Zi.exports=Tl});var es=p((Vh,Ki)=>{var Al=re(),Nl=(t,e)=>{try{return new Al(t,e).range||"*"}catch{return null}};Ki.exports=Nl});var qt=p((Xh,is)=>{var $l=U(),ns=ot(),{ANY:Ll}=ns,bl=re(),Pl=ut(),ts=nt(),rs=Lt(),xl=Pt(),Cl=bt(),Dl=(t,e,r,n)=>{t=new $l(t,n),e=new bl(e,n);let i,s,o,a,u;switch(r){case">":i=ts,s=xl,o=rs,a=">",u=">=";break;case"<":i=rs,s=Cl,o=ts,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Pl(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let l=e.set[c],f=null,m=null;if(l.forEach(E=>{E.semver===Ll&&(E=new ns(">=0.0.0")),f=f||E,m=m||E,i(E.semver,f.semver,n)?f=E:o(E.semver,m.semver,n)&&(m=E)}),f.operator===a||f.operator===u||(!m.operator||m.operator===a)&&s(t,m.semver))return!1;if(m.operator===u&&o(t,m.semver))return!1}return!0};is.exports=Dl});var os=p((Hh,ss)=>{var ql=qt(),jl=(t,e,r)=>ql(t,e,">",r);ss.exports=jl});var us=p((zh,as)=>{var Fl=qt(),Ul=(t,e,r)=>Fl(t,e,"<",r);as.exports=Ul});var fs=p((Wh,cs)=>{var ls=re(),Ml=(t,e,r)=>(t=new ls(t,r),e=new ls(e,r),t.intersects(e));cs.exports=Ml});var ds=p((kh,hs)=>{var Gl=ut(),Bl=te();hs.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((l,f)=>Bl(l,f,r));for(let l of o)Gl(l,e,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,f]of n)l===f?a.push(l):!f&&l===o[0]?a.push("*"):f?l===o[0]?a.push(`<=${f}`):a.push(`${l} - ${f}`):a.push(`>=${l}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var gs=p((Yh,vs)=>{var ps=re(),jt=ot(),{ANY:Ir}=jt,lt=ut(),Tr=te(),Vl=(t,e,r={})=>{if(t===e)return!0;t=new ps(t,r),e=new ps(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=Xl(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Xl=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Ir){if(e.length===1&&e[0].semver===Ir)return!0;r.includePrerelease?t=[new jt(">=0.0.0-0")]:t=[new jt(">=0.0.0")]}if(e.length===1&&e[0].semver===Ir){if(r.includePrerelease)return!0;e=[new jt(">=0.0.0")]}let n=new Set,i,s;for(let E of t)E.operator===">"||E.operator===">="?i=Es(i,E,r):E.operator==="<"||E.operator==="<="?s=ms(s,E,r):n.add(E.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Tr(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let E of n){if(i&&!lt(E,String(i),r)||s&&!lt(E,String(s),r))return null;for(let pe of e)if(!lt(E,String(pe),r))return!1;return!0}let a,u,c,l,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let E of e){if(l=l||E.operator===">"||E.operator===">=",c=c||E.operator==="<"||E.operator==="<=",i){if(m&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===m.major&&E.semver.minor===m.minor&&E.semver.patch===m.patch&&(m=!1),E.operator===">"||E.operator===">="){if(a=Es(i,E,r),a===E&&a!==i)return!1}else if(i.operator===">="&&!lt(i.semver,String(E),r))return!1}if(s){if(f&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===f.major&&E.semver.minor===f.minor&&E.semver.patch===f.patch&&(f=!1),E.operator==="<"||E.operator==="<="){if(u=ms(s,E,r),u===E&&u!==s)return!1}else if(s.operator==="<="&&!lt(s.semver,String(E),r))return!1}if(!E.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&l&&!i&&o!==0||m||f)},Es=(t,e,r)=>{if(!t)return e;let n=Tr(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},ms=(t,e,r)=>{if(!t)return e;let n=Tr(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};vs.exports=Vl});var ws=p((Jh,ys)=>{var Ar=$e();ys.exports={re:Ar.re,src:Ar.src,tokens:Ar.t,SEMVER_SPEC_VERSION:et().SEMVER_SPEC_VERSION,SemVer:U(),compareIdentifiers:It().compareIdentifiers,rcompareIdentifiers:It().rcompareIdentifiers,parse:Le(),valid:Gn(),clean:Vn(),inc:zn(),diff:Qn(),major:ei(),minor:ri(),patch:ii(),prerelease:oi(),compare:te(),rcompare:ui(),compareLoose:ci(),compareBuild:$t(),sort:pi(),rsort:mi(),gt:nt(),lt:Lt(),eq:Nt(),neq:Er(),gte:bt(),lte:Pt(),cmp:mr(),coerce:Si(),Comparator:ot(),Range:re(),satisfies:ut(),toComparators:Hi(),maxSatisfying:Wi(),minSatisfying:Yi(),minVersion:Qi(),validRange:es(),outside:qt(),gtr:os(),ltr:us(),intersects:fs(),simplifyRange:ds(),subset:gs()}});var $r=p(w=>{"use strict";var Hl=w&&w.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zl=w&&w.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Is=w&&w.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Hl(e,t,r);return zl(e,t),e},Nr=w&&w.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},ne;Object.defineProperty(w,"__esModule",{value:!0});w.getCmdPath=w.tryGetExecutablePath=w.isRooted=w.isDirectory=w.exists=w.IS_WINDOWS=w.unlink=w.symlink=w.stat=w.rmdir=w.rename=w.readlink=w.readdir=w.mkdir=w.lstat=w.copyFile=w.chmod=void 0;var Wl=Is(I("fs")),Ut=Is(I("path"));ne=Wl.promises,w.chmod=ne.chmod,w.copyFile=ne.copyFile,w.lstat=ne.lstat,w.mkdir=ne.mkdir,w.readdir=ne.readdir,w.readlink=ne.readlink,w.rename=ne.rename,w.rmdir=ne.rmdir,w.stat=ne.stat,w.symlink=ne.symlink,w.unlink=ne.unlink;w.IS_WINDOWS=process.platform==="win32";function kl(t){return Nr(this,void 0,void 0,function*(){try{yield w.stat(t)}catch(e){if(e.code==="ENOENT")return!1;throw e}return!0})}w.exists=kl;function Yl(t,e=!1){return Nr(this,void 0,void 0,function*(){return(e?yield w.stat(t):yield w.lstat(t)).isDirectory()})}w.isDirectory=Yl;function Jl(t){if(t=Ql(t),!t)throw new Error('isRooted() parameter "p" cannot be empty');return w.IS_WINDOWS?t.startsWith("\\")||/^[A-Z]:/i.test(t):t.startsWith("/")}w.isRooted=Jl;function Zl(t,e){return Nr(this,void 0,void 0,function*(){let r;try{r=yield w.stat(t)}catch(i){i.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${i}`)}if(r&&r.isFile()){if(w.IS_WINDOWS){let i=Ut.extname(t).toUpperCase();if(e.some(s=>s.toUpperCase()===i))return t}else if(Ss(r))return t}let n=t;for(let i of e){t=n+i,r=void 0;try{r=yield w.stat(t)}catch(s){s.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${s}`)}if(r&&r.isFile()){if(w.IS_WINDOWS){try{let s=Ut.dirname(t),o=Ut.basename(t).toUpperCase();for(let a of yield w.readdir(s))if(o===a.toUpperCase()){t=Ut.join(s,a);break}}catch(s){console.log(`Unexpected error attempting to determine the actual case of the file '${t}': ${s}`)}return t}else if(Ss(r))return t}}return""})}w.tryGetExecutablePath=Zl;function Ql(t){return t=t||"",w.IS_WINDOWS?(t=t.replace(/\//g,"\\"),t.replace(/\\\\+/g,"\\")):t.replace(/\/\/+/g,"/")}function Ss(t){return(t.mode&1)>0||(t.mode&8)>0&&t.gid===process.getgid()||(t.mode&64)>0&&t.uid===process.getuid()}function Kl(){var t;return(t=process.env.COMSPEC)!==null&&t!==void 0?t:"cmd.exe"}w.getCmdPath=Kl});var Pr=p(q=>{"use strict";var ec=q&&q.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tc=q&&q.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lr=q&&q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ec(e,t,r);return tc(e,t),e},Se=q&&q.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(q,"__esModule",{value:!0});q.findInPath=q.which=q.mkdirP=q.rmRF=q.mv=q.cp=void 0;var rc=I("assert"),As=Lr(I("child_process")),he=Lr(I("path")),Ns=I("util"),A=Lr($r()),Ts=Ns.promisify(As.exec),nc=Ns.promisify(As.execFile);function ic(t,e,r={}){return Se(this,void 0,void 0,function*(){let{force:n,recursive:i,copySourceDirectory:s}=oc(r),o=(yield A.exists(e))?yield A.stat(e):null;if(o&&o.isFile()&&!n)return;let a=o&&o.isDirectory()&&s?he.join(e,he.basename(t)):e;if(!(yield A.exists(t)))throw new Error(`no such file or directory: ${t}`);if((yield A.stat(t)).isDirectory())if(i)yield Ps(t,a,0,n);else throw new Error(`Failed to copy. ${t} is a directory, but tried to copy without recursive flag.`);else{if(he.relative(t,a)==="")throw new Error(`'${a}' and '${t}' are the same file`);yield xs(t,a,n)}})}q.cp=ic;function sc(t,e,r={}){return Se(this,void 0,void 0,function*(){if(yield A.exists(e)){let n=!0;if((yield A.isDirectory(e))&&(e=he.join(e,he.basename(t)),n=yield A.exists(e)),n)if(r.force==null||r.force)yield $s(e);else throw new Error("Destination already exists")}yield br(he.dirname(e)),yield A.rename(t,e)})}q.mv=sc;function $s(t){return Se(this,void 0,void 0,function*(){if(A.IS_WINDOWS){if(/[*"<>|]/.test(t))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{let e=A.getCmdPath();(yield A.isDirectory(t,!0))?yield Ts(`${e} /s /c "rd /s /q "%inputPath%""`,{env:{inputPath:t}}):yield Ts(`${e} /s /c "del /f /a "%inputPath%""`,{env:{inputPath:t}})}catch(e){if(e.code!=="ENOENT")throw e}try{yield A.unlink(t)}catch(e){if(e.code!=="ENOENT")throw e}}else{let e=!1;try{e=yield A.isDirectory(t)}catch(r){if(r.code!=="ENOENT")throw r;return}e?yield nc("rm",["-rf",`${t}`]):yield A.unlink(t)}})}q.rmRF=$s;function br(t){return Se(this,void 0,void 0,function*(){rc.ok(t,"a path argument must be provided"),yield A.mkdir(t,{recursive:!0})})}q.mkdirP=br;function Ls(t,e){return Se(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'tool' is required");if(e){let n=yield Ls(t,!1);if(!n)throw A.IS_WINDOWS?new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return n}let r=yield bs(t);return r&&r.length>0?r[0]:""})}q.which=Ls;function bs(t){return Se(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'tool' is required");let e=[];if(A.IS_WINDOWS&&process.env.PATHEXT)for(let i of process.env.PATHEXT.split(he.delimiter))i&&e.push(i);if(A.isRooted(t)){let i=yield A.tryGetExecutablePath(t,e);return i?[i]:[]}if(t.includes(he.sep))return[];let r=[];if(process.env.PATH)for(let i of process.env.PATH.split(he.delimiter))i&&r.push(i);let n=[];for(let i of r){let s=yield A.tryGetExecutablePath(he.join(i,t),e);s&&n.push(s)}return n})}q.findInPath=bs;function oc(t){let e=t.force==null?!0:t.force,r=Boolean(t.recursive),n=t.copySourceDirectory==null?!0:Boolean(t.copySourceDirectory);return{force:e,recursive:r,copySourceDirectory:n}}function Ps(t,e,r,n){return Se(this,void 0,void 0,function*(){if(r>=255)return;r++,yield br(e);let i=yield A.readdir(t);for(let s of i){let o=`${t}/${s}`,a=`${e}/${s}`;(yield A.lstat(o)).isDirectory()?yield Ps(o,a,r,n):yield xs(o,a,n)}yield A.chmod(e,(yield A.stat(t)).mode)})}function xs(t,e,r){return Se(this,void 0,void 0,function*(){if((yield A.lstat(t)).isSymbolicLink()){try{yield A.lstat(e),yield A.unlink(e)}catch(i){i.code==="EPERM"&&(yield A.chmod(e,"0666"),yield A.unlink(e))}let n=yield A.readlink(t);yield A.symlink(n,e,A.IS_WINDOWS?"junction":null)}else(!(yield A.exists(e))||r)&&(yield A.copyFile(t,e))})}});var Ur=p((R,Fs)=>{R=Fs.exports=_;var b;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?b=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:b=function(){};R.SEMVER_SPEC_VERSION="2.0.0";var Cr=256,Mt=Number.MAX_SAFE_INTEGER||9007199254740991,xr=16,L=R.re=[],d=R.src=[],h=R.tokens={},qs=0;function T(t){h[t]=qs++}T("NUMERICIDENTIFIER");d[h.NUMERICIDENTIFIER]="0|[1-9]\\d*";T("NUMERICIDENTIFIERLOOSE");d[h.NUMERICIDENTIFIERLOOSE]="[0-9]+";T("NONNUMERICIDENTIFIER");d[h.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";T("MAINVERSION");d[h.MAINVERSION]="("+d[h.NUMERICIDENTIFIER]+")\\.("+d[h.NUMERICIDENTIFIER]+")\\.("+d[h.NUMERICIDENTIFIER]+")";T("MAINVERSIONLOOSE");d[h.MAINVERSIONLOOSE]="("+d[h.NUMERICIDENTIFIERLOOSE]+")\\.("+d[h.NUMERICIDENTIFIERLOOSE]+")\\.("+d[h.NUMERICIDENTIFIERLOOSE]+")";T("PRERELEASEIDENTIFIER");d[h.PRERELEASEIDENTIFIER]="(?:"+d[h.NUMERICIDENTIFIER]+"|"+d[h.NONNUMERICIDENTIFIER]+")";T("PRERELEASEIDENTIFIERLOOSE");d[h.PRERELEASEIDENTIFIERLOOSE]="(?:"+d[h.NUMERICIDENTIFIERLOOSE]+"|"+d[h.NONNUMERICIDENTIFIER]+")";T("PRERELEASE");d[h.PRERELEASE]="(?:-("+d[h.PRERELEASEIDENTIFIER]+"(?:\\."+d[h.PRERELEASEIDENTIFIER]+")*))";T("PRERELEASELOOSE");d[h.PRERELEASELOOSE]="(?:-?("+d[h.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+d[h.PRERELEASEIDENTIFIERLOOSE]+")*))";T("BUILDIDENTIFIER");d[h.BUILDIDENTIFIER]="[0-9A-Za-z-]+";T("BUILD");d[h.BUILD]="(?:\\+("+d[h.BUILDIDENTIFIER]+"(?:\\."+d[h.BUILDIDENTIFIER]+")*))";T("FULL");T("FULLPLAIN");d[h.FULLPLAIN]="v?"+d[h.MAINVERSION]+d[h.PRERELEASE]+"?"+d[h.BUILD]+"?";d[h.FULL]="^"+d[h.FULLPLAIN]+"$";T("LOOSEPLAIN");d[h.LOOSEPLAIN]="[v=\\s]*"+d[h.MAINVERSIONLOOSE]+d[h.PRERELEASELOOSE]+"?"+d[h.BUILD]+"?";T("LOOSE");d[h.LOOSE]="^"+d[h.LOOSEPLAIN]+"$";T("GTLT");d[h.GTLT]="((?:<|>)?=?)";T("XRANGEIDENTIFIERLOOSE");d[h.XRANGEIDENTIFIERLOOSE]=d[h.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";T("XRANGEIDENTIFIER");d[h.XRANGEIDENTIFIER]=d[h.NUMERICIDENTIFIER]+"|x|X|\\*";T("XRANGEPLAIN");d[h.XRANGEPLAIN]="[v=\\s]*("+d[h.XRANGEIDENTIFIER]+")(?:\\.("+d[h.XRANGEIDENTIFIER]+")(?:\\.("+d[h.XRANGEIDENTIFIER]+")(?:"+d[h.PRERELEASE]+")?"+d[h.BUILD]+"?)?)?";T("XRANGEPLAINLOOSE");d[h.XRANGEPLAINLOOSE]="[v=\\s]*("+d[h.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+d[h.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+d[h.XRANGEIDENTIFIERLOOSE]+")(?:"+d[h.PRERELEASELOOSE]+")?"+d[h.BUILD]+"?)?)?";T("XRANGE");d[h.XRANGE]="^"+d[h.GTLT]+"\\s*"+d[h.XRANGEPLAIN]+"$";T("XRANGELOOSE");d[h.XRANGELOOSE]="^"+d[h.GTLT]+"\\s*"+d[h.XRANGEPLAINLOOSE]+"$";T("COERCE");d[h.COERCE]="(^|[^\\d])(\\d{1,"+xr+"})(?:\\.(\\d{1,"+xr+"}))?(?:\\.(\\d{1,"+xr+"}))?(?:$|[^\\d])";T("COERCERTL");L[h.COERCERTL]=new RegExp(d[h.COERCE],"g");T("LONETILDE");d[h.LONETILDE]="(?:~>?)";T("TILDETRIM");d[h.TILDETRIM]="(\\s*)"+d[h.LONETILDE]+"\\s+";L[h.TILDETRIM]=new RegExp(d[h.TILDETRIM],"g");var ac="$1~";T("TILDE");d[h.TILDE]="^"+d[h.LONETILDE]+d[h.XRANGEPLAIN]+"$";T("TILDELOOSE");d[h.TILDELOOSE]="^"+d[h.LONETILDE]+d[h.XRANGEPLAINLOOSE]+"$";T("LONECARET");d[h.LONECARET]="(?:\\^)";T("CARETTRIM");d[h.CARETTRIM]="(\\s*)"+d[h.LONECARET]+"\\s+";L[h.CARETTRIM]=new RegExp(d[h.CARETTRIM],"g");var uc="$1^";T("CARET");d[h.CARET]="^"+d[h.LONECARET]+d[h.XRANGEPLAIN]+"$";T("CARETLOOSE");d[h.CARETLOOSE]="^"+d[h.LONECARET]+d[h.XRANGEPLAINLOOSE]+"$";T("COMPARATORLOOSE");d[h.COMPARATORLOOSE]="^"+d[h.GTLT]+"\\s*("+d[h.LOOSEPLAIN]+")$|^$";T("COMPARATOR");d[h.COMPARATOR]="^"+d[h.GTLT]+"\\s*("+d[h.FULLPLAIN]+")$|^$";T("COMPARATORTRIM");d[h.COMPARATORTRIM]="(\\s*)"+d[h.GTLT]+"\\s*("+d[h.LOOSEPLAIN]+"|"+d[h.XRANGEPLAIN]+")";L[h.COMPARATORTRIM]=new RegExp(d[h.COMPARATORTRIM],"g");var lc="$1$2$3";T("HYPHENRANGE");d[h.HYPHENRANGE]="^\\s*("+d[h.XRANGEPLAIN]+")\\s+-\\s+("+d[h.XRANGEPLAIN]+")\\s*$";T("HYPHENRANGELOOSE");d[h.HYPHENRANGELOOSE]="^\\s*("+d[h.XRANGEPLAINLOOSE]+")\\s+-\\s+("+d[h.XRANGEPLAINLOOSE]+")\\s*$";T("STAR");d[h.STAR]="(<|>)?=?\\s*\\*";for(Ie=0;Ie<qs;Ie++)b(Ie,d[Ie]),L[Ie]||(L[Ie]=new RegExp(d[Ie]));var Ie;R.parse=je;function je(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof _)return t;if(typeof t!="string"||t.length>Cr)return null;var r=e.loose?L[h.LOOSE]:L[h.FULL];if(!r.test(t))return null;try{return new _(t,e)}catch{return null}}R.valid=cc;function cc(t,e){var r=je(t,e);return r?r.version:null}R.clean=fc;function fc(t,e){var r=je(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null}R.SemVer=_;function _(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof _){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>Cr)throw new TypeError("version is longer than "+Cr+" characters");if(!(this instanceof _))return new _(t,e);b("SemVer",t,e),this.options=e,this.loose=!!e.loose;var r=t.trim().match(e.loose?L[h.LOOSE]:L[h.FULL]);if(!r)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Mt||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Mt||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Mt||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<Mt)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}_.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};_.prototype.toString=function(){return this.version};_.prototype.compare=function(t){return b("SemVer.compare",this.version,this.options,t),t instanceof _||(t=new _(t,this.options)),this.compareMain(t)||this.comparePre(t)};_.prototype.compareMain=function(t){return t instanceof _||(t=new _(t,this.options)),qe(this.major,t.major)||qe(this.minor,t.minor)||qe(this.patch,t.patch)};_.prototype.comparePre=function(t){if(t instanceof _||(t=new _(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var r=this.prerelease[e],n=t.prerelease[e];if(b("prerelease compare",e,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return qe(r,n)}while(++e)};_.prototype.compareBuild=function(t){t instanceof _||(t=new _(t,this.options));var e=0;do{var r=this.build[e],n=t.build[e];if(b("prerelease compare",e,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return qe(r,n)}while(++e)};_.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};R.inc=hc;function hc(t,e,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new _(t,r).inc(e,n).version}catch{return null}}R.diff=dc;function dc(t,e){if(Dr(t,e))return null;var r=je(t),n=je(e),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return s}R.compareIdentifiers=qe;var Cs=/^[0-9]+$/;function qe(t,e){var r=Cs.test(t),n=Cs.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1}R.rcompareIdentifiers=pc;function pc(t,e){return qe(e,t)}R.major=Ec;function Ec(t,e){return new _(t,e).major}R.minor=mc;function mc(t,e){return new _(t,e).minor}R.patch=vc;function vc(t,e){return new _(t,e).patch}R.compare=ge;function ge(t,e,r){return new _(t,r).compare(new _(e,r))}R.compareLoose=gc;function gc(t,e){return ge(t,e,!0)}R.compareBuild=yc;function yc(t,e,r){var n=new _(t,r),i=new _(e,r);return n.compare(i)||n.compareBuild(i)}R.rcompare=wc;function wc(t,e,r){return ge(e,t,r)}R.sort=Rc;function Rc(t,e){return t.sort(function(r,n){return R.compareBuild(r,n,e)})}R.rsort=Oc;function Oc(t,e){return t.sort(function(r,n){return R.compareBuild(n,r,e)})}R.gt=ft;function ft(t,e,r){return ge(t,e,r)>0}R.lt=Gt;function Gt(t,e,r){return ge(t,e,r)<0}R.eq=Dr;function Dr(t,e,r){return ge(t,e,r)===0}R.neq=js;function js(t,e,r){return ge(t,e,r)!==0}R.gte=qr;function qr(t,e,r){return ge(t,e,r)>=0}R.lte=jr;function jr(t,e,r){return ge(t,e,r)<=0}R.cmp=Bt;function Bt(t,e,r,n){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Dr(t,r,n);case"!=":return js(t,r,n);case">":return ft(t,r,n);case">=":return qr(t,r,n);case"<":return Gt(t,r,n);case"<=":return jr(t,r,n);default:throw new TypeError("Invalid operator: "+e)}}R.Comparator=ie;function ie(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof ie){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof ie))return new ie(t,e);b("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===Ye?this.value="":this.value=this.operator+this.semver.version,b("comp",this)}var Ye={};ie.prototype.parse=function(t){var e=this.options.loose?L[h.COMPARATORLOOSE]:L[h.COMPARATOR],r=t.match(e);if(!r)throw new TypeError("Invalid comparator: "+t);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new _(r[2],this.options.loose):this.semver=Ye};ie.prototype.toString=function(){return this.value};ie.prototype.test=function(t){if(b("Comparator.test",t,this.options.loose),this.semver===Ye||t===Ye)return!0;if(typeof t=="string")try{t=new _(t,this.options)}catch{return!1}return Bt(t,this.operator,this.semver,this.options)};ie.prototype.intersects=function(t,e){if(!(t instanceof ie))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new C(t.value,e),Vt(this.value,r,e));if(t.operator==="")return t.value===""?!0:(r=new C(this.value,e),Vt(t.semver,r,e));var n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,o=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=Bt(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),u=Bt(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||i||s&&o||a||u};R.Range=C;function C(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof C)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new C(t.raw,e);if(t instanceof ie)return new C(t.value,e);if(!(this instanceof C))return new C(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}C.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};C.prototype.toString=function(){return this.range};C.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var r=e?L[h.HYPHENRANGELOOSE]:L[h.HYPHENRANGE];t=t.replace(r,Pc),b("hyphen replace",t),t=t.replace(L[h.COMPARATORTRIM],lc),b("comparator trim",t,L[h.COMPARATORTRIM]),t=t.replace(L[h.TILDETRIM],ac),t=t.replace(L[h.CARETTRIM],uc),t=t.split(/\s+/).join(" ");var n=e?L[h.COMPARATORLOOSE]:L[h.COMPARATOR],i=t.split(" ").map(function(s){return Sc(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new ie(s,this.options)},this),i};C.prototype.intersects=function(t,e){if(!(t instanceof C))throw new TypeError("a Range is required");return this.set.some(function(r){return Ds(r,e)&&t.set.some(function(n){return Ds(n,e)&&r.every(function(i){return n.every(function(s){return i.intersects(s,e)})})})})};function Ds(t,e){for(var r=!0,n=t.slice(),i=n.pop();r&&n.length;)r=n.every(function(s){return i.intersects(s,e)}),i=n.pop();return r}R.toComparators=_c;function _c(t,e){return new C(t,e).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function Sc(t,e){return b("comp",t,e),t=Ac(t,e),b("caret",t),t=Ic(t,e),b("tildes",t),t=$c(t,e),b("xrange",t),t=bc(t,e),b("stars",t),t}function X(t){return!t||t.toLowerCase()==="x"||t==="*"}function Ic(t,e){return t.trim().split(/\s+/).map(function(r){return Tc(r,e)}).join(" ")}function Tc(t,e){var r=e.loose?L[h.TILDELOOSE]:L[h.TILDE];return t.replace(r,function(n,i,s,o,a){b("tilde",t,n,i,s,o,a);var u;return X(i)?u="":X(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":X(o)?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(b("replaceTilde pr",a),u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",b("tilde return",u),u})}function Ac(t,e){return t.trim().split(/\s+/).map(function(r){return Nc(r,e)}).join(" ")}function Nc(t,e){b("caret",t,e);var r=e.loose?L[h.CARETLOOSE]:L[h.CARET];return t.replace(r,function(n,i,s,o,a){b("caret",t,n,i,s,o,a);var u;return X(i)?u="":X(s)?u=">="+i+".0.0 <"+(+i+1)+".0.0":X(o)?i==="0"?u=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(b("replaceCaret pr",a),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(b("no pr"),i==="0"?s==="0"?u=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):u=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":u=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),b("caret return",u),u})}function $c(t,e){return b("replaceXRanges",t,e),t.split(/\s+/).map(function(r){return Lc(r,e)}).join(" ")}function Lc(t,e){t=t.trim();var r=e.loose?L[h.XRANGELOOSE]:L[h.XRANGE];return t.replace(r,function(n,i,s,o,a,u){b("xRange",t,n,i,s,o,a,u);var c=X(s),l=c||X(o),f=l||X(a),m=f;return i==="="&&m&&(i=""),u=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&m?(l&&(o=0),a=0,i===">"?(i=">=",l?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",l?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a+u):l?n=">="+s+".0.0"+u+" <"+(+s+1)+".0.0"+u:f&&(n=">="+s+"."+o+".0"+u+" <"+s+"."+(+o+1)+".0"+u),b("xRange return",n),n})}function bc(t,e){return b("replaceStars",t,e),t.trim().replace(L[h.STAR],"")}function Pc(t,e,r,n,i,s,o,a,u,c,l,f,m){return X(r)?e="":X(n)?e=">="+r+".0.0":X(i)?e=">="+r+"."+n+".0":e=">="+e,X(u)?a="":X(c)?a="<"+(+u+1)+".0.0":X(l)?a="<"+u+"."+(+c+1)+".0":f?a="<="+u+"."+c+"."+l+"-"+f:a="<="+a,(e+" "+a).trim()}C.prototype.test=function(t){if(!t)return!1;if(typeof t=="string")try{t=new _(t,this.options)}catch{return!1}for(var e=0;e<this.set.length;e++)if(xc(this.set[e],t,this.options))return!0;return!1};function xc(t,e,r){for(var n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(n=0;n<t.length;n++)if(b(t[n].semver),t[n].semver!==Ye&&t[n].semver.prerelease.length>0){var i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}R.satisfies=Vt;function Vt(t,e,r){try{e=new C(e,r)}catch{return!1}return e.test(t)}R.maxSatisfying=Cc;function Cc(t,e,r){var n=null,i=null;try{var s=new C(e,r)}catch{return null}return t.forEach(function(o){s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new _(n,r))}),n}R.minSatisfying=Dc;function Dc(t,e,r){var n=null,i=null;try{var s=new C(e,r)}catch{return null}return t.forEach(function(o){s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new _(n,r))}),n}R.minVersion=qc;function qc(t,e){t=new C(t,e);var r=new _("0.0.0");if(t.test(r)||(r=new _("0.0.0-0"),t.test(r)))return r;r=null;for(var n=0;n<t.set.length;++n){var i=t.set[n];i.forEach(function(s){var o=new _(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||ft(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return r&&t.test(r)?r:null}R.validRange=jc;function jc(t,e){try{return new C(t,e).range||"*"}catch{return null}}R.ltr=Fc;function Fc(t,e,r){return Fr(t,e,"<",r)}R.gtr=Uc;function Uc(t,e,r){return Fr(t,e,">",r)}R.outside=Fr;function Fr(t,e,r,n){t=new _(t,n),e=new C(e,n);var i,s,o,a,u;switch(r){case">":i=ft,s=jr,o=Gt,a=">",u=">=";break;case"<":i=Gt,s=qr,o=ft,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Vt(t,e,n))return!1;for(var c=0;c<e.set.length;++c){var l=e.set[c],f=null,m=null;if(l.forEach(function(E){E.semver===Ye&&(E=new ie(">=0.0.0")),f=f||E,m=m||E,i(E.semver,f.semver,n)?f=E:o(E.semver,m.semver,n)&&(m=E)}),f.operator===a||f.operator===u||(!m.operator||m.operator===a)&&s(t,m.semver))return!1;if(m.operator===u&&o(t,m.semver))return!1}return!0}R.prerelease=Mc;function Mc(t,e){var r=je(t,e);return r&&r.prerelease.length?r.prerelease:null}R.intersects=Gc;function Gc(t,e,r){return t=new C(t,r),e=new C(e,r),t.intersects(e)}R.coerce=Bc;function Bc(t,e){if(t instanceof _)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};var r=null;if(!e.rtl)r=t.match(L[h.COERCE]);else{for(var n;(n=L[h.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),L[h.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;L[h.COERCERTL].lastIndex=-1}return r===null?null:je(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),e)}});var Gs=p((M,Gr)=>{"use strict";var Vc=M&&M.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xc=M&&M.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Hc=M&&M.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Vc(e,t,r);return Xc(e,t),e},zc=M&&M.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(M,"__esModule",{value:!0});M._readLinuxVersionFile=M._getOsVersion=M._findMatch=void 0;var Us=Hc(Ur()),Mr=Ne(),Ms=I("os"),Wc=I("child_process"),Xt=I("fs");function kc(t,e,r,n){return zc(this,void 0,void 0,function*(){let i=Ms.platform(),s,o,a;for(let u of r){let c=u.version;if(Mr.debug(`check ${c} satisfies ${t}`),Us.satisfies(c,t)&&(!e||u.stable===e)&&(a=u.files.find(l=>{Mr.debug(`${l.arch}===${n} && ${l.platform}===${i}`);let f=l.arch===n&&l.platform===i;if(f&&l.platform_version){let m=Gr.exports._getOsVersion();m===l.platform_version?f=!0:f=Us.satisfies(m,l.platform_version)}return f}),a)){Mr.debug(`matched ${u.version}`),o=u;break}}return o&&a&&(s=Object.assign({},o),s.files=[a]),s})}M._findMatch=kc;function Yc(){let t=Ms.platform(),e="";if(t==="darwin")e=Wc.execSync("sw_vers -productVersion").toString();else if(t==="linux"){let r=Gr.exports._readLinuxVersionFile();if(r){let n=r.split(`
`);for(let i of n){let s=i.split("=");if(s.length===2&&(s[0].trim()==="VERSION_ID"||s[0].trim()==="DISTRIB_RELEASE")){e=s[1].trim().replace(/^"/,"").replace(/"$/,"");break}}}}return e}M._getOsVersion=Yc;function Jc(){let t="/etc/lsb-release",e="/etc/os-release",r="";return Xt.existsSync(t)?r=Xt.readFileSync(t).toString():Xt.existsSync(e)&&(r=Xt.readFileSync(e).toString()),r}M._readLinuxVersionFile=Jc});var Vs=p((id,Bs)=>{var Zc=I("crypto");Bs.exports=function(){return Zc.randomBytes(16)}});var zs=p((sd,Hs)=>{var Xs=[];for(ht=0;ht<256;++ht)Xs[ht]=(ht+256).toString(16).substr(1);var ht;function Qc(t,e){var r=e||0,n=Xs;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}Hs.exports=Qc});var ks=p((od,Ws)=>{var Kc=Vs(),ef=zs();function tf(t,e,r){var n=e&&r||0;typeof t=="string"&&(e=t==="binary"?new Array(16):null,t=null),t=t||{};var i=t.random||(t.rng||Kc)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e)for(var s=0;s<16;++s)e[n+s]=i[s];return e||ef(i)}Ws.exports=tf});var Qs=p(Y=>{"use strict";var rf=Y&&Y.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nf=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Je=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&rf(e,t,r);return nf(e,t),e},Ys=Y&&Y.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(Y,"__esModule",{value:!0});Y.argStringToArray=Y.ToolRunner=void 0;var Ht=Je(I("os")),Zs=Je(I("events")),sf=Je(I("child_process")),of=Je(I("path")),af=Je(Pr()),Js=Je($r()),uf=I("timers"),zt=process.platform==="win32",Br=class extends Zs.EventEmitter{constructor(e,r,n){if(super(),!e)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=e,this.args=r||[],this.options=n||{}}_debug(e){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(e)}_getCommandString(e,r){let n=this._getSpawnFileName(),i=this._getSpawnArgs(e),s=r?"":"[command]";if(zt)if(this._isCmdFile()){s+=n;for(let o of i)s+=` ${o}`}else if(e.windowsVerbatimArguments){s+=`"${n}"`;for(let o of i)s+=` ${o}`}else{s+=this._windowsQuoteCmdArg(n);for(let o of i)s+=` ${this._windowsQuoteCmdArg(o)}`}else{s+=n;for(let o of i)s+=` ${o}`}return s}_processLineBuffer(e,r,n){try{let i=r+e.toString(),s=i.indexOf(Ht.EOL);for(;s>-1;){let o=i.substring(0,s);n(o),i=i.substring(s+Ht.EOL.length),s=i.indexOf(Ht.EOL)}return i}catch(i){return this._debug(`error processing line. Failed with error ${i}`),""}}_getSpawnFileName(){return zt&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(e){if(zt&&this._isCmdFile()){let r=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(let n of this.args)r+=" ",r+=e.windowsVerbatimArguments?n:this._windowsQuoteCmdArg(n);return r+='"',[r]}return this.args}_endsWith(e,r){return e.endsWith(r)}_isCmdFile(){let e=this.toolPath.toUpperCase();return this._endsWith(e,".CMD")||this._endsWith(e,".BAT")}_windowsQuoteCmdArg(e){if(!this._isCmdFile())return this._uvQuoteCmdArg(e);if(!e)return'""';let r=[" ","	","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'],n=!1;for(let o of e)if(r.some(a=>a===o)){n=!0;break}if(!n)return e;let i='"',s=!0;for(let o=e.length;o>0;o--)i+=e[o-1],s&&e[o-1]==="\\"?i+="\\":e[o-1]==='"'?(s=!0,i+='"'):s=!1;return i+='"',i.split("").reverse().join("")}_uvQuoteCmdArg(e){if(!e)return'""';if(!e.includes(" ")&&!e.includes("	")&&!e.includes('"'))return e;if(!e.includes('"')&&!e.includes("\\"))return`"${e}"`;let r='"',n=!0;for(let i=e.length;i>0;i--)r+=e[i-1],n&&e[i-1]==="\\"?r+="\\":e[i-1]==='"'?(n=!0,r+="\\"):n=!1;return r+='"',r.split("").reverse().join("")}_cloneExecOptions(e){e=e||{};let r={cwd:e.cwd||process.cwd(),env:e.env||process.env,silent:e.silent||!1,windowsVerbatimArguments:e.windowsVerbatimArguments||!1,failOnStdErr:e.failOnStdErr||!1,ignoreReturnCode:e.ignoreReturnCode||!1,delay:e.delay||1e4};return r.outStream=e.outStream||process.stdout,r.errStream=e.errStream||process.stderr,r}_getSpawnOptions(e,r){e=e||{};let n={};return n.cwd=e.cwd,n.env=e.env,n.windowsVerbatimArguments=e.windowsVerbatimArguments||this._isCmdFile(),e.windowsVerbatimArguments&&(n.argv0=`"${r}"`),n}exec(){return Ys(this,void 0,void 0,function*(){return!Js.isRooted(this.toolPath)&&(this.toolPath.includes("/")||zt&&this.toolPath.includes("\\"))&&(this.toolPath=of.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield af.which(this.toolPath,!0),new Promise((e,r)=>Ys(this,void 0,void 0,function*(){this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(let c of this.args)this._debug(`   ${c}`);let n=this._cloneExecOptions(this.options);!n.silent&&n.outStream&&n.outStream.write(this._getCommandString(n)+Ht.EOL);let i=new dt(n,this.toolPath);if(i.on("debug",c=>{this._debug(c)}),this.options.cwd&&!(yield Js.exists(this.options.cwd)))return r(new Error(`The cwd: ${this.options.cwd} does not exist!`));let s=this._getSpawnFileName(),o=sf.spawn(s,this._getSpawnArgs(n),this._getSpawnOptions(this.options,s)),a="";o.stdout&&o.stdout.on("data",c=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(c),!n.silent&&n.outStream&&n.outStream.write(c),a=this._processLineBuffer(c,a,l=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(l)})});let u="";if(o.stderr&&o.stderr.on("data",c=>{i.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(c),!n.silent&&n.errStream&&n.outStream&&(n.failOnStdErr?n.errStream:n.outStream).write(c),u=this._processLineBuffer(c,u,l=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(l)})}),o.on("error",c=>{i.processError=c.message,i.processExited=!0,i.processClosed=!0,i.CheckComplete()}),o.on("exit",c=>{i.processExitCode=c,i.processExited=!0,this._debug(`Exit code ${c} received from tool '${this.toolPath}'`),i.CheckComplete()}),o.on("close",c=>{i.processExitCode=c,i.processExited=!0,i.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),i.CheckComplete()}),i.on("done",(c,l)=>{a.length>0&&this.emit("stdline",a),u.length>0&&this.emit("errline",u),o.removeAllListeners(),c?r(c):e(l)}),this.options.input){if(!o.stdin)throw new Error("child process missing stdin");o.stdin.end(this.options.input)}}))})}};Y.ToolRunner=Br;function lf(t){let e=[],r=!1,n=!1,i="";function s(o){n&&o!=='"'&&(i+="\\"),i+=o,n=!1}for(let o=0;o<t.length;o++){let a=t.charAt(o);if(a==='"'){n?s(a):r=!r;continue}if(a==="\\"&&n){s(a);continue}if(a==="\\"&&r){n=!0;continue}if(a===" "&&!r){i.length>0&&(e.push(i),i="");continue}s(a)}return i.length>0&&e.push(i.trim()),e}Y.argStringToArray=lf;var dt=class extends Zs.EventEmitter{constructor(e,r){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!r)throw new Error("toolPath must not be empty");this.options=e,this.toolPath=r,e.delay&&(this.delay=e.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=uf.setTimeout(dt.HandleTimeout,this.delay,this)))}_debug(e){this.emit("debug",e)}_setResult(){let e;this.processExited&&(this.processError?e=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):this.processExitCode!==0&&!this.options.ignoreReturnCode?e=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`):this.processStderr&&this.options.failOnStdErr&&(e=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`))),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",e,this.processExitCode)}static HandleTimeout(e){if(!e.done){if(!e.processClosed&&e.processExited){let r=`The STDIO streams did not close within ${e.delay/1e3} seconds of the exit event from process '${e.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;e._debug(r)}e._setResult()}}}});var no=p(J=>{"use strict";var cf=J&&J.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ff=J&&J.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hf=J&&J.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&cf(e,t,r);return ff(e,t),e},to=J&&J.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(J,"__esModule",{value:!0});J.getExecOutput=J.exec=void 0;var Ks=I("string_decoder"),eo=hf(Qs());function ro(t,e,r){return to(this,void 0,void 0,function*(){let n=eo.argStringToArray(t);if(n.length===0)throw new Error("Parameter 'commandLine' cannot be null or empty.");let i=n[0];return e=n.slice(1).concat(e||[]),new eo.ToolRunner(i,e,r).exec()})}J.exec=ro;function df(t,e,r){var n,i;return to(this,void 0,void 0,function*(){let s="",o="",a=new Ks.StringDecoder("utf8"),u=new Ks.StringDecoder("utf8"),c=(n=r?.listeners)===null||n===void 0?void 0:n.stdout,l=(i=r?.listeners)===null||i===void 0?void 0:i.stderr,f=Ke=>{o+=u.write(Ke),l&&l(Ke)},m=Ke=>{s+=a.write(Ke),c&&c(Ke)},E=Object.assign(Object.assign({},r?.listeners),{stdout:m,stderr:f}),pe=yield ro(t,e,Object.assign(Object.assign({},r),{listeners:E}));return s+=a.end(),o+=u.end(),{exitCode:pe,stdout:s,stderr:o}})}J.getExecOutput=df});var oo=p(se=>{"use strict";var pf=se&&se.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ef=se&&se.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mf=se&&se.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&pf(e,t,r);return Ef(e,t),e},io=se&&se.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(se,"__esModule",{value:!0});se.RetryHelper=void 0;var so=mf(Ne()),Vr=class{constructor(e,r,n){if(e<1)throw new Error("max attempts should be greater than or equal to 1");if(this.maxAttempts=e,this.minSeconds=Math.floor(r),this.maxSeconds=Math.floor(n),this.minSeconds>this.maxSeconds)throw new Error("min seconds should be less than or equal to max seconds")}execute(e,r){return io(this,void 0,void 0,function*(){let n=1;for(;n<this.maxAttempts;){try{return yield e()}catch(s){if(r&&!r(s))throw s;so.info(s.message)}let i=this.getSleepAmount();so.info(`Waiting ${i} seconds before trying again`),yield this.sleep(i),n++}return yield e()})}getSleepAmount(){return Math.floor(Math.random()*(this.maxSeconds-this.minSeconds+1))+this.minSeconds}sleep(e){return io(this,void 0,void 0,function*(){return new Promise(r=>setTimeout(r,e*1e3))})}};se.RetryHelper=Vr});var Eo=p(S=>{"use strict";var vf=S&&S.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gf=S&&S.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),de=S&&S.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&vf(e,t,r);return gf(e,t),e},H=S&&S.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},yf=S&&S.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(S,"__esModule",{value:!0});S.evaluateVersions=S.isExplicitVersion=S.findFromManifest=S.getManifestFromRepo=S.findAllVersions=S.find=S.cacheFile=S.cacheDir=S.extractZip=S.extractXar=S.extractTar=S.extract7z=S.downloadTool=S.HTTPError=void 0;var $=de(Ne()),Q=de(Pr()),oe=de(I("fs")),wf=de(Gs()),Et=de(I("os")),le=de(I("path")),ao=de(nr()),ye=de(Ur()),Rf=de(I("stream")),Of=de(I("util")),Ze=I("assert"),uo=yf(ks()),Te=no(),_f=oo(),pt=class extends Error{constructor(e){super(`Unexpected HTTP response: ${e}`),this.httpStatusCode=e,Object.setPrototypeOf(this,new.target.prototype)}};S.HTTPError=pt;var Hr=process.platform==="win32",Sf=process.platform==="darwin",If="actions/tool-cache";function Tf(t,e,r,n){return H(this,void 0,void 0,function*(){e=e||le.join(po(),uo.default()),yield Q.mkdirP(le.dirname(e)),$.debug(`Downloading ${t}`),$.debug(`Destination ${e}`);let i=3,s=Xr("TEST_DOWNLOAD_TOOL_RETRY_MIN_SECONDS",10),o=Xr("TEST_DOWNLOAD_TOOL_RETRY_MAX_SECONDS",20);return yield new _f.RetryHelper(i,s,o).execute(()=>H(this,void 0,void 0,function*(){return yield Af(t,e||"",r,n)}),u=>!(u instanceof pt&&u.httpStatusCode&&u.httpStatusCode<500&&u.httpStatusCode!==408&&u.httpStatusCode!==429))})}S.downloadTool=Tf;function Af(t,e,r,n){return H(this,void 0,void 0,function*(){if(oe.existsSync(e))throw new Error(`Destination file path ${e} already exists`);let i=new ao.HttpClient(If,[],{allowRetries:!1});r&&($.debug("set auth"),n===void 0&&(n={}),n.authorization=r);let s=yield i.get(t,n);if(s.message.statusCode!==200){let l=new pt(s.message.statusCode);throw $.debug(`Failed to download from "${t}". Code(${s.message.statusCode}) Message(${s.message.statusMessage})`),l}let o=Of.promisify(Rf.pipeline),u=Xr("TEST_DOWNLOAD_TOOL_RESPONSE_MESSAGE_FACTORY",()=>s.message)(),c=!1;try{return yield o(u,oe.createWriteStream(e)),$.debug("download complete"),c=!0,e}finally{if(!c){$.debug("download failed");try{yield Q.rmRF(e)}catch(l){$.debug(`Failed to delete '${e}'. ${l.message}`)}}}})}function Nf(t,e,r){return H(this,void 0,void 0,function*(){Ze.ok(Hr,"extract7z() not supported on current OS"),Ze.ok(t,'parameter "file" is required'),e=yield Wt(e);let n=process.cwd();if(process.chdir(e),r)try{let i=$.isDebug()?"-bb1":"-bb0",s=["x",i,"-bd","-sccUTF-8",t],o={silent:!0};yield Te.exec(`"${r}"`,s,o)}finally{process.chdir(n)}else{let i=le.join(__dirname,"..","scripts","Invoke-7zdec.ps1").replace(/'/g,"''").replace(/"|\n|\r/g,""),s=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),o=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),a=`& '${i}' -Source '${s}' -Target '${o}'`,u=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",a],c={silent:!0};try{let l=yield Q.which("powershell",!0);yield Te.exec(`"${l}"`,u,c)}finally{process.chdir(n)}}return e})}S.extract7z=Nf;function $f(t,e,r="xz"){return H(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'file' is required");e=yield Wt(e),$.debug("Checking tar --version");let n="";yield Te.exec("tar --version",[],{ignoreReturnCode:!0,silent:!0,listeners:{stdout:u=>n+=u.toString(),stderr:u=>n+=u.toString()}}),$.debug(n.trim());let i=n.toUpperCase().includes("GNU TAR"),s;r instanceof Array?s=r:s=[r],$.isDebug()&&!r.includes("v")&&s.push("-v");let o=e,a=t;return Hr&&i&&(s.push("--force-local"),o=e.replace(/\\/g,"/"),a=t.replace(/\\/g,"/")),i&&(s.push("--warning=no-unknown-keyword"),s.push("--overwrite")),s.push("-C",o,"-f",a),yield Te.exec("tar",s),e})}S.extractTar=$f;function Lf(t,e,r=[]){return H(this,void 0,void 0,function*(){Ze.ok(Sf,"extractXar() not supported on current OS"),Ze.ok(t,'parameter "file" is required'),e=yield Wt(e);let n;r instanceof Array?n=r:n=[r],n.push("-x","-C",e,"-f",t),$.isDebug()&&n.push("-v");let i=yield Q.which("xar",!0);return yield Te.exec(`"${i}"`,Uf(n)),e})}S.extractXar=Lf;function bf(t,e){return H(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'file' is required");return e=yield Wt(e),Hr?yield Pf(t,e):yield xf(t,e),e})}S.extractZip=bf;function Pf(t,e){return H(this,void 0,void 0,function*(){let r=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),n=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),i=yield Q.which("pwsh",!1);if(i){let s=["$ErrorActionPreference = 'Stop' ;","try { Add-Type -AssemblyName System.IO.Compression.ZipFile } catch { } ;",`try { [System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${n}', $true) }`,`catch { if (($_.Exception.GetType().FullName -eq 'System.Management.Automation.MethodException') -or ($_.Exception.GetType().FullName -eq 'System.Management.Automation.RuntimeException') ){ Expand-Archive -LiteralPath '${r}' -DestinationPath '${n}' -Force } else { throw $_ } } ;`].join(" "),o=["-NoLogo","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",s];$.debug(`Using pwsh at path: ${i}`),yield Te.exec(`"${i}"`,o)}else{let s=["$ErrorActionPreference = 'Stop' ;","try { Add-Type -AssemblyName System.IO.Compression.FileSystem } catch { } ;",`if ((Get-Command -Name Expand-Archive -Module Microsoft.PowerShell.Archive -ErrorAction Ignore)) { Expand-Archive -LiteralPath '${r}' -DestinationPath '${n}' -Force }`,`else {[System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${n}', $true) }`].join(" "),o=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",s],a=yield Q.which("powershell",!0);$.debug(`Using powershell at path: ${a}`),yield Te.exec(`"${a}"`,o)}})}function xf(t,e){return H(this,void 0,void 0,function*(){let r=yield Q.which("unzip",!0),n=[t];$.isDebug()||n.unshift("-q"),n.unshift("-o"),yield Te.exec(`"${r}"`,n,{cwd:e})})}function Cf(t,e,r,n){return H(this,void 0,void 0,function*(){if(r=ye.clean(r)||r,n=n||Et.arch(),$.debug(`Caching tool ${e} ${r} ${n}`),$.debug(`source dir: ${t}`),!oe.statSync(t).isDirectory())throw new Error("sourceDir is not a directory");let i=yield co(e,r,n);for(let s of oe.readdirSync(t)){let o=le.join(t,s);yield Q.cp(o,i,{recursive:!0})}return fo(e,r,n),i})}S.cacheDir=Cf;function Df(t,e,r,n,i){return H(this,void 0,void 0,function*(){if(n=ye.clean(n)||n,i=i||Et.arch(),$.debug(`Caching tool ${r} ${n} ${i}`),$.debug(`source file: ${t}`),!oe.statSync(t).isFile())throw new Error("sourceFile is not a file");let s=yield co(r,n,i),o=le.join(s,e);return $.debug(`destination file ${o}`),yield Q.cp(t,o),fo(r,n,i),s})}S.cacheFile=Df;function qf(t,e,r){if(!t)throw new Error("toolName parameter is required");if(!e)throw new Error("versionSpec parameter is required");if(r=r||Et.arch(),!zr(e)){let i=lo(t,r);e=ho(i,e)}let n="";if(e){e=ye.clean(e)||"";let i=le.join(kt(),t,e,r);$.debug(`checking cache: ${i}`),oe.existsSync(i)&&oe.existsSync(`${i}.complete`)?($.debug(`Found tool in cache ${t} ${e} ${r}`),n=i):$.debug("not found")}return n}S.find=qf;function lo(t,e){let r=[];e=e||Et.arch();let n=le.join(kt(),t);if(oe.existsSync(n)){let i=oe.readdirSync(n);for(let s of i)if(zr(s)){let o=le.join(n,s,e||"");oe.existsSync(o)&&oe.existsSync(`${o}.complete`)&&r.push(s)}}return r}S.findAllVersions=lo;function jf(t,e,r,n="master"){return H(this,void 0,void 0,function*(){let i=[],s=`https://api.github.com/repos/${t}/${e}/git/trees/${n}`,o=new ao.HttpClient("tool-cache"),a={};r&&($.debug("set auth"),a.authorization=r);let u=yield o.getJson(s,a);if(!u.result)return i;let c="";for(let f of u.result.tree)if(f.path==="versions-manifest.json"){c=f.url;break}a.accept="application/vnd.github.VERSION.raw";let l=yield(yield o.get(c,a)).readBody();if(l){l=l.replace(/^\uFEFF/,"");try{i=JSON.parse(l)}catch{$.debug("Invalid json")}}return i})}S.getManifestFromRepo=jf;function Ff(t,e,r,n=Et.arch()){return H(this,void 0,void 0,function*(){return yield wf._findMatch(t,e,r,n)})}S.findFromManifest=Ff;function Wt(t){return H(this,void 0,void 0,function*(){return t||(t=le.join(po(),uo.default())),yield Q.mkdirP(t),t})}function co(t,e,r){return H(this,void 0,void 0,function*(){let n=le.join(kt(),t,ye.clean(e)||e,r||"");$.debug(`destination ${n}`);let i=`${n}.complete`;return yield Q.rmRF(n),yield Q.rmRF(i),yield Q.mkdirP(n),n})}function fo(t,e,r){let i=`${le.join(kt(),t,ye.clean(e)||e,r||"")}.complete`;oe.writeFileSync(i,""),$.debug("finished caching tool")}function zr(t){let e=ye.clean(t)||"";$.debug(`isExplicit: ${e}`);let r=ye.valid(e)!=null;return $.debug(`explicit? ${r}`),r}S.isExplicitVersion=zr;function ho(t,e){let r="";$.debug(`evaluating ${t.length} versions`),t=t.sort((n,i)=>ye.gt(n,i)?1:-1);for(let n=t.length-1;n>=0;n--){let i=t[n];if(ye.satisfies(i,e)){r=i;break}}return r?$.debug(`matched: ${r}`):$.debug("match not found"),r}S.evaluateVersions=ho;function kt(){let t=process.env.RUNNER_TOOL_CACHE||"";return Ze.ok(t,"Expected RUNNER_TOOL_CACHE to be defined"),t}function po(){let t=process.env.RUNNER_TEMP||"";return Ze.ok(t,"Expected RUNNER_TEMP to be defined"),t}function Xr(t,e){let r=global[t];return r!==void 0?r:e}function Uf(t){return Array.from(new Set(t))}});var Qe=mt(Ne(),1);var D=Object.freeze({linux:"linux",macOS:"darwin",windows:"win32"});var _s=mt(ws(),1);import Os from"node:process";var Rs=[{version:"1.12.0",assets:[{platform:D.windows,file:"hl-1.12.0-win.zip"}]},{version:"1.11.0",assets:[{platform:D.windows,file:"hl-1.11.0-win.zip"}]},{version:"1.10.0",assets:[{platform:D.windows,file:"hl-1.10.0-win.zip"}]},{version:"1.9.0",assets:[{platform:D.windows,file:"hl-1.9.0-win.zip"}]},{version:"1.8.0",assets:[{platform:D.windows,file:"hl-1.8.0-win.zip"}]},{version:"1.7.0",assets:[{platform:D.windows,file:"hl-1.7.0-win.zip"}]},{version:"1.6.0",assets:[{platform:D.linux,file:"hl-1.6.0-linux.tgz"},{platform:D.windows,file:"hl-1.6.0-win.zip"}]},{version:"1.5.0",assets:[{platform:D.linux,file:"hl-1.5.0-linux.tgz"},{platform:D.windows,file:"hl-1.5.0-win.zip"}]},{version:"1.4.0",assets:[{platform:D.windows,file:"hl-1.4-win.zip"}]},{version:"1.3.0",assets:[{platform:D.macOS,file:"hl-1.3-osx32.zip"},{platform:D.windows,file:"hl-1.3-win32.zip"}]},{version:"1.2.0",assets:[{platform:D.macOS,file:"hl-1.2-osx.zip"},{platform:D.windows,file:"hl-1.2-win32.zip"}]},{version:"1.1.0",assets:[{platform:D.windows,file:"hl-1.1-win32.zip"}]},{version:"1.0.0",assets:[{platform:D.windows,file:"hl-1.0-win32.zip"}]}];var Ft,De,ct=class{assets;version;constructor(e={}){this.assets=e.assets??[],this.version=e.version??"0.0.0"}static get latest(){return Fe(this,De)[0]}get exists(){return Fe(ct,De).some(e=>e.version==this.version)}get isSource(){return!this.getAsset(Os.platform)}get tag(){let[e,r,n]=this.version.split(".");return Number.parseInt(n)>0?`${e}.${r}.${n}`:`${e}.${r}`}get url(){let e=this.getAsset(Os.platform);return new URL(e?`releases/download/${this.tag}/${e.file}`:`archive/refs/tags/${this.tag}.zip`,Fe(ct,Ft))}static find(e){return Fe(this,De).find(r=>_s.default.satisfies(r.version,e))??null}static get(e){return Fe(this,De).find(r=>r.version==e)??null}getAsset(e){return this.assets.find(r=>r.platform==e)??null}},ke=ct;Ft=new WeakMap,De=new WeakMap,Zt(ke,Ft,new URL("https://github.com/HaxeFoundation/hashlink/")),Zt(ke,De,Rs.map(e=>new ct(e)));var Jt=mt(Ne(),1),Ae=mt(Eo(),1);import{execSync as mo}from"node:child_process";import{readdir as Mf}from"node:fs/promises";import{join as vo}from"node:path";import{chdir as go,cwd as Gf,env as Bf,platform as Wr}from"node:process";var Yt=class{release;constructor(e){this.release=e}async download(){let e=await(0,Ae.extractZip)(await(0,Ae.downloadTool)(this.release.url.href));return vo(e,await this.#n(e))}async install(){let e=(0,Ae.find)("hasklink",this.release.version);if(!e){let r=await this.download();e=await(0,Ae.cacheDir)(r,"hashlink",this.release.version)}return this.release.isSource&&Bf.GITHUB_ACTIONS=="true"&&this.#e(e),(0,Jt.addPath)(this.release.isSource?vo(e,"bin"):e),e}#e(e){if(![D.linux,D.macOS].includes(Wr))throw new Error(`Compilation is not supported on "${Wr}" platform.`);let r=Gf();go(e);let n=Wr==D.linux?this.#t():this.#r();return go(r),n}#t(){return["sudo apt-get update",`sudo apt-get install --assume-yes --no-install-recommends ${["libmbedtls-dev","libopenal-dev","libpng-dev","libsdl2-dev","libturbojpeg0-dev","libuv1-dev","libvorbis-dev"].join(" ")}`,"make","sudo make install","sudo ldconfig"].forEach(mo),(0,Jt.exportVariable)("LD_LIBRARY_PATH","/usr/local/bin"),"/usr/local"}#r(){return["brew bundle","make","sudo make install"].forEach(mo),"/usr/local"}async#n(e){let r=(await Mf(e,{withFileTypes:!0})).filter(n=>n.isDirectory());if(r.length==1)return r[0].name;throw new Error(`Unable to determine the single subfolder in: ${e}`)}};try{let t=(0,Qe.getInput)("version"),e=ke.find(t&&t!="latest"?t:"*");if(!e)throw new Error("No release matching the version constraint.");let r=await new Yt(e).install();(0,Qe.info)(`HashLink ${e.version} successfully installed in "${r}".`)}catch(t){(0,Qe.setFailed)(t instanceof Error?t:String(t))}
